services:
  api:
    build:
      context: ./packages/api-go
    environment:
      - HOLO_API_ADDR=:8080
      - HOLO_DATA_DIR=/data
      - HOLO_BASE_URL=http://localhost:8080
    volumes:
      - ./local-data:/data
    ports:
      - "8080:8080"

  worker:
    build:
      context: ./packages/worker-py
    environment:
      - HOLO_DATA_DIR=/data
      - HOLO_WORKER_POLL_INTERVAL=1.0
    volumes:
      - ./local-data:/data
    depends_on:
      - api
